(function(){if(!(document.getElementsByClassName instanceof Function)){document.getElementsByClassName=function(searchClass,node,tag){var classElements=[];if(node==null){node=document}if(tag==null){tag="*"}var els=node.getElementsByTagName(tag),elsLen=els.length,pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)");for(i=0,j=0;i<elsLen;i++){if(pattern.test(els[i].className)){classElements[j]=els[i];j++}}return classElements}}function delayify(element,callback){if(typeof element==="undefined"||!element){return}if(typeof callback==="undefined"||!callback){callback=false}var localStaticContainer=document.createElement("div"),textareaParentNode=element.parentNode,mythis=this,contentStack="",processRawContent=function(content){contentStack+=content;var localStack=[],makeScriptCallback=function(src){return{type:"script",callback:function(){return src}}},makeEvalCallback=function(rawScript){return{type:"eval",callback:function(){eval(rawScript)}}},srcPattern=new RegExp("src=(?:([\"'])([\\s\\S]*?)\\1|([^\\s>]+))","i"),contentStackReplaced=contentStack.replace(/<script(?:[\s\S]*?)>([\S\s]*?)<\/script>/ig,function(all,code){var generatedCallback,matches;if((!/[A-Za-z0-9]/.test(code)||code==="")&&srcPattern.test(all)){matches=all.match(srcPattern);generatedCallback=makeScriptCallback(matches[2]||matches[3])}else{generatedCallback=makeEvalCallback(code)}localStack.push(generatedCallback);return""});contentStack=contentStackReplaced;localStaticContainer.innerHTML=contentStack;textareaParentNode.innerHTML="";var childNodes=localStaticContainer.getElementsByTagName("*"),childNodeLength=childNodes.length,i;for(i=0;i<childNodeLength;i++){if(localStaticContainer.nodeType!=1){continue}try{textareaParentNode.appendChild(childNodes[i])}catch(e){}}return localStack};var executionStack=processRawContent(element.value);if(callback!==false){executionStack.push({type:"callback",callback:callback})}try{textareaParentNode.removeChild(element)}catch(e){}var docWriteIdx=0;document.write=document.writeln=function(injectContent){var newStack=processRawContent(injectContent),i;for(i=0;i<newStack.length;i++){executionStack.splice(docWriteIdx,0,newStack[i]);docWriteIdx++}return true};var stackProcessing=false,popStack=function(){if(executionStack.length===0){return true}if(docWriteIdx>0){docWriteIdx--}stackProcessing=true;var stackObj=executionStack.shift();if(stackObj.type==="script"){var sUrl=stackObj.callback(),scriptFinished=function(){stackProcessing=false;popStack()};try{var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src=sUrl;s.addEventListener("load",scriptFinished,false);var head=document.getElementsByTagName("head")[0];head.appendChild(s)}catch(e){}}else{if(stackObj.type==="eval"||stackObj.type==="callback"){try{stackObj.callback();stackProcessing=false}catch(e){}popStack()}}};if(executionStack.length>0){popStack();return}}var loadAllScripts=function(){var scriptsToDelayRaw=document.getElementsByClassName("delayify","textarea"),scriptsToDelay=[];for(var j=0;j<scriptsToDelayRaw.length;j++){scriptsToDelay.push(scriptsToDelayRaw[j])}var chainDelay=function(){var currentNode=scriptsToDelay.shift(),callback=null,delayedAd;if(scriptsToDelay.length>0){callback=chainDelay()}return function(){delayedAd=delayify(currentNode,callback)}},initDelayify=chainDelay();initDelayify()};if(window.attachEvent){window.attachEvent("onload",loadAllScripts)}else{window.addEventListener("load",loadAllScripts,false)}}());